syntax = "proto3";
package game;

// 登录响应
message LoginResponse {
    int32 your_id = 1;
    float init_x = 2;
    float init_y = 3;
}

// 玩家输入
message PlayerInput {
    int32 player_id = 1;
    enum InputType {
        NONE = 0;
        UP = 1;
        DOWN = 2;
        LEFT = 3;
        RIGHT = 4;
        FIRE = 5;
    }
    InputType input = 2;
}

// 玩家状态
message PlayerState {
    int32 id = 1;
    float x = 2;
    float y = 3;
    float angle = 4; 
}

// 子弹状态 (Day 4 新增)
message BulletState {
    int32 id = 1;
    float x = 2;
    float y = 3;
    int32 type = 4; // 0=玩家子弹, 1=敌机子弹
}

// === [Day 5 新增] 敌机状态 ===
message EnemyState {
    int32 id = 1;      // 敌机唯一ID
    float x = 2;       // 坐标 X
    float y = 3;       // 坐标 Y
    int32 type = 4;    // 敌机类型 (目前只有 0，以后可以加 BOSS)
    int32 health = 5;  // 血量 (可选，用于同步爆炸效果)
}

// 游戏世界快照
message GameSnapshot {
    repeated PlayerState players = 1;
    repeated BulletState bullets = 2;
    repeated EnemyState enemies = 3;  // [新增] 敌机列表
}